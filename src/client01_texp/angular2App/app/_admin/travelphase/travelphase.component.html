<div>
    <!--DataTable-->
    <p-dataTable [value]="list"
                 selectionMode="single"
                 [(selection)]="selected"
                 scrollable="true"
                 scrollHeight="200px"
                 [contextMenu]="cm"
                 (onRowSelect)="onRowSelect($event)"
                 (onRowUnselect)="onRowUnselect($event)">
        <header>Company List</header>
        <footer>
            <button pButton type="text" (click)="click_Add()" icon="fa-check" label="Add"></button>
        </footer>
        <p-column field="travelphaseId" header="Id"></p-column>
        <p-column field="company" header="Company">
            <template let-col let-car="rowData" pTemplate type="body">
                <span>{{car.company?car.company.name:any}}</span>
            </template>
        </p-column>
        <p-column field="order" header="order"></p-column>
        <p-column field="order_accept" header="accept"></p-column>
        <p-column field="order_reject" header="reject"></p-column>
        <p-column field="phase" header="Phase">
            <template let-col  let-car="rowData" pTemplate type="body">
                <span>{{car.phase?car.phase.name:any}}</span>
            </template>
        </p-column> 
        <p-column field="role" header="Role">
            <template let-col let-car="rowData" pTemplate type="body">
                <span>{{car.role?car.role.name:any}}</span>
            </template>
        </p-column>
        <p-column field="isActive" header="Active"></p-column>
    </p-dataTable>
    <p-contextMenu #cm [model]="menu_items"></p-contextMenu>
    
    <!--Dialog-->
    <p-dialog [(visible)]="show_dialog" modal="true" responsive="true" draggable="false" resizable="false">
        <header>
            Header content here
        </header>
        <form (ngSubmit)="onSubmit()" #customerForm="ngForm" class="editForm" novalidate>

            <div class="form-group">
                <label>Order</label>
                <input type="text" class="form-control" name="order" [(ngModel)]="current.order" #Name="ngModel" >
            </div>
            <div class="form-group">
                <label>Accept</label>
                <input type="text" class="form-control" name="order_accept" [(ngModel)]="current.order_accept" #Name="ngModel">
            </div>
            <div class="form-group">
                <label>Reject</label>
                <input type="text" class="form-control" name="order_reject" [(ngModel)]="current.order_reject" #Name="ngModel">
            </div>

            <companyselector [(selectedItem)]="current.company" ></companyselector>
            <roleselector [(selectedItem)]="current.role"></roleselector>
            <phaseselector [(selectedItem)]="current.phase"></phaseselector>
        </form>
        <footer>
            <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
                <button class="btn btn-default" (click)="onCancel($event)">Cancel</button>
                <button class="btn btn-success" [disabled]="!customerForm.dirty || !customerForm.valid" (click)="onSubmit()">Update</button>
            </div>
        </footer>
    </p-dialog>
    
   
</div> 